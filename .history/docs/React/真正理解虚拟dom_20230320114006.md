## 虚拟 dom

> 虚拟`DOM`（`Virtual DOM`）本质上是 `JS` 和 `DOM` 之间的一个`映射缓存`，它在形态上表现为一个能够描述 `DOM` 结构及其属性信息的 `JS` 对象

```js
const profile = (
  <div className="profile">
    <span className="profile-title">title</span>
    <h3 className="profile-content">content</h3>
    我是一段文本
  </div>
);
```

接下来要将上面 `JSX` 代码转化为下面的`数据结构`来描述

```js
// 对象来描述 jsx
const profile = {
    type: "div",
    props: {
       className: "profile",
       children: [
           {type: 'span', props: {…}},
           {type: 'h3', props: {…}},
           "我是一段文本"
       ],
   },
}
```

就这个示例来说，你需要把握住以下两点：

1. `虚拟DOM` 是 `JS` 对象
2. `虚拟DOM` 是对真实 `DOM` 的描述

我们看看 React 中的虚拟 DOM 大致是如何工作的

- `挂载阶段`: 通过`JSX` 的描述，构建出`虚拟 DOM` 树，然后通过 `render()` 关联`虚拟 DOM` 到`真实 DOM` 的映射；
- `更新阶段`: 新旧`虚拟 DOM` 通过 `diff 算法`对比出需要改变的部分，然后再将这些改变作用于真实 DOM。